<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Quáº£n lÃ½ há»c viÃªn</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f4f6f8;
            padding: 30px;
            color: #333;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
        }

        .btn-group {
            text-align: center;
            margin-bottom: 20px;
        }

        .btn {
            padding: 10px 20px;
            margin: 0 10px;
            border: none;
            border-radius: 5px;
            background-color: #3498db;
            color: white;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.2s;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .table-container {
            display: flex;
            justify-content: center;
        }

        table.student-table {
            width: 90%;
            max-width: 800px;
            border-collapse: collapse;
            background: white;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        table.student-table th,
        table.student-table td {
            padding: 12px 15px;
            text-align: center;
            border: 1px solid #ddd;
        }

        table.student-table th {
            background-color: #2ecc71;
            color: white;
        }

        table.student-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        table.student-table tr:hover {
            background-color: #f1f1f1;
        }
    </style>
</head>
<body>
<h1>Quáº£n lÃ½ há»c viÃªn</h1>

<div class="btn-group">
    <button class="btn add-btn" onclick="manageStudent.add()">â• ThÃªm há»c viÃªn</button>
    <button class="btn edit-btn" onclick="manageStudent.edit()">âœï¸ Sá»­a thÃ´ng tin</button>
    <button class="btn delete-btn" onclick="manageStudent.del()">ğŸ—‘ï¸ XoÃ¡ há»c viÃªn</button>
</div>

<div class="table-container">
    <div id="table" class="table-wrapper"></div>
</div>
<script>
    class Student {
        #id;
        #name;
        #cl;
        #email;
        #dOB;
        #module

        constructor(id, name, cl, email, dOB, module) {
            this.#id = id;
            this.#name = name;
            this.#cl = cl;
            this.#email = email;
            this.#dOB = dOB;
            this.#module = module;
        }

        getId() {
            return this.#id;
        }

        getName() {
            return this.#name;
        }

        getCl() {
            return this.#cl;
        }

        getEmail() {
            return this.#email;
        }

        getDOB() {
            return this.#dOB;
        }

        getModule() {
            return this.#module;
        }
    }

    let listStudent = [
        new Student("HV-0001", "NguyÃªÌƒn VÄƒn A", "C1022G1", "nguyenvana@gmail.com", "01/01/2004"),
        new Student("HV-0002", "NguyÃªÌƒn VÄƒn B", "C1022G1", "nguyenvanb@gmail.com", "02/02/2004"),
        new Student("HV-0003", "NguyÃªÌƒn ThiÌ£ C", "C1022G1", "nguyenvanc@gmail.com", "03/03/2004"),
    ];

    class ManageStudent {
        display() {
            let stringTable = `<table class="student-table" border="1" style="border-collapse: collapse; width: 800px">
                                       <tr>
                                       <th>MaÌƒ hoÌ£c viÃªn</th>
                                       <th>TÃªn</th>
                                       <th>LÆ¡Ìp</th>
                                       <th>Email</th>
                                       <th>NgaÌ€y sinh</th>
                                       </tr>`;
            for (let i = 0; i < listStudent.length; i++) {
                stringTable += `<tr>
                                       <td>${listStudent[i].getId()}</td>
                                       <td>${listStudent[i].getName()}</td>
                                       <td>${listStudent[i].getCl()}</td>
                                       <td>${listStudent[i].getEmail()}</td>
                                       <td>${listStudent[i].getDOB()}</td>
                                       </tr>`
            }
            stringTable += `</table>`;
            document.getElementById("table").innerHTML = stringTable;
        }

        add() {
            let iD = prompt("NhÃ¢Ì£p maÌƒ hoÌ£c viÃªn");

            //ÄiÃªÌ€u kiÃªÌ£n kiÃªÌ‰m tra Ä‘uÌng Ä‘iÌ£nh daÌ£ng
            while (iD.length < 7) {
                alert("KhÃ´ng Ä‘uÌng Ä‘iÌ£nh daÌ£ng HV-XXXX");
                iD = prompt("NhÃ¢Ì£p maÌƒ hoÌ£c viÃªn");
            }
            if (iD.length >= 7) {
                let count = 0;
                for (let i = 0; i < iD.length; i++) {
                    if (iD[i] === "-") {
                        count++;
                    }
                }
                while (count > 1) {
                    alert("KhÃ´ng Ä‘uÌng Ä‘iÌ£nh daÌ£ng HV-XXXX");
                    iD = prompt("NhÃ¢Ì£p maÌƒ hoÌ£c viÃªn");
                    count = 0;
                    for (let i = 0; i < iD.length; i++) {
                        if (iD[i] === "-") {
                            count++;
                        }
                    }
                }
                let handleId = iD.split("-");
                console.log(handleId)
                if (handleId) {
                    while (handleId[0] !== "HV" || handleId[handleId.length - 1].length > 4) {
                        alert("KhÃ´ng Ä‘uÌng Ä‘iÌ£nh daÌ£ng HV-XXXX");
                        iD = prompt("NhÃ¢Ì£p maÌƒ hoÌ£c viÃªn");
                        handleId = iD.split("-");
                    }
                }
            }

            //ÄiÃªÌ€u kiÃªÌ£n thÃªm maÌƒ hoÌ£c viÃªn khÃ´ng Ä‘Æ°Æ¡Ì£c truÌ€ng lÄƒÌ£p
            for (let i = 0; i < listStudent.length; i++) {
                while (listStudent[i].getId().includes(iD)) {
                    alert("MaÌƒ hoÌ£c viÃªn Ä‘aÌƒ tÃ´Ì€n taÌ£i");
                    iD = prompt("NhÃ¢Ì£p maÌƒ hoÌ£c viÃªn");
                }
            }

            //ÄiÃªÌ€u kiÃªÌ£n thÃªm tÃªn hoÌ£c viÃªn < 50
            let name = prompt("NhÃ¢Ì£p tÃªn hoÌ£c viÃªn");
            while (name.length > 50) {
                alert("TÃªn hoÌ£c viÃªn khÃ´ng Ä‘Æ°Æ¡Ì£c lÆ¡Ìn hÆ¡n 50 kyÌ tÆ°Ì£");
                name = prompt("NhÃ¢Ì£p tÃªn hoÌ£c viÃªn");
            }
            while (!name) {
                alert("KhÃ´ng Ä‘Æ°Æ¡Ì£c Ä‘ÃªÌ‰ trÃ´Ìng");
                name = prompt("NhÃ¢Ì£p tÃªn hoÌ£c viÃªn");
            }
            let cl = prompt("NhÃ¢Ì£p lÆ¡Ìp hoÌ£c viÃªn");
            while (!cl) {
                cl = prompt("NhÃ¢Ì£p lÆ¡Ìp hoÌ£c viÃªn");
            }
            let handleModule = cl.split("");
            while (+handleModule[handleModule.length - 1] > 6 || +handleModule[handleModule.length - 1] < 0) {
                alert("Module chiÌ‰ Ä‘Æ°Æ¡Ì£c nhÃ¢Ìp tÆ°Ì€ 1-6");
                cl = prompt("NhÃ¢Ì£p lÆ¡Ìp hoÌ£c viÃªn");
            }

            let email = prompt("NhÃ¢Ì£p email hoÌ£c viÃªn");
            while (!email) {
                email = prompt("NhÃ¢Ì£p email hoÌ£c viÃªn");
            }
            let dOB = prompt("NhÃ¢Ì£p ngaÌ€y sinh hoÌ£c viÃªn");
            while (!dOB) {
                dOB = prompt("NhÃ¢Ì£p ngaÌ€y sinh hoÌ£c viÃªn");
            }


            let arr = dOB.split("/");

            while (arr.length === 1 || arr[0] > 31 || arr[0] <= 0 || arr[1] > 12 || arr[arr.length - 1] > 2025
            || arr[0].length < 2 || arr[1].length < 2 || arr[arr.length - 1].length < 4) {
                alert("NgaÌ€y sinh khÃ´ng Ä‘uÌng Ä‘iÌ£nh daÌ£ng dd/mm/yyyy ( ngÃ y / thÃ¡ng / nÄƒm )");
                dOB = prompt("NhÃ¢Ì£p ngaÌ€y sinh hoÌ£c viÃªn");
                arr = dOB.split("/");
                console.log(arr)
            }

            listStudent.push(new Student(iD, name, cl, email, dOB));
            this.display();
        }

        edit() {
            let flag = true;
            let iDToFix = prompt("NhÃ¢Ì£p maÌƒ hoÌ£c viÃªn cÃ¢Ì€n sÆ°Ìƒa chÆ°Ì‰a");
            for (let i = 0; i < listStudent.length; i++) {
                if (listStudent[i].getId() === iDToFix) {
                    let iD = prompt("NhÃ¢Ì£p maÌƒ hoÌ£c viÃªn");

                    //ÄiÃªÌ€u kiÃªÌ£n thÃªm maÌƒ hoÌ£c viÃªn khÃ´ng Ä‘Æ°Æ¡Ì£c truÌ€ng lÄƒÌ£p
                    for (let i = 0; i < listStudent.length; i++) {
                        while (listStudent[i].getId().includes(iD)) {
                            alert("MaÌƒ hoÌ£c viÃªn Ä‘aÌƒ tÃ´Ì€n taÌ£i");
                            iD = prompt("NhÃ¢Ì£p maÌƒ hoÌ£c viÃªn");
                        }
                    }

                    let name = prompt("NhÃ¢Ì£p tÃªn hoÌ£c viÃªn");
                    while (name.length > 50) {
                        alert("TÃªn hoÌ£c viÃªn khÃ´ng Ä‘Æ°Æ¡Ì£c lÆ¡Ìn hÆ¡n 50 kyÌ tÆ°Ì£");
                        name = prompt("NhÃ¢Ì£p tÃªn hoÌ£c viÃªn");
                    }

                    let cl = prompt("NhÃ¢Ì£p lÆ¡Ìp hoÌ£c viÃªn");
                    let handleModule = cl.split("");
                    while (+handleModule[handleModule.length - 1] > 6 || +handleModule[handleModule.length - 1] < 0) {
                        alert("Module chiÌ‰ Ä‘Æ°Æ¡Ì£c nhÃ¢Ìp tÆ°Ì€ 1-6");
                        cl = prompt("NhÃ¢Ì£p lÆ¡Ìp hoÌ£c viÃªn");
                    }

                    let email = prompt("NhÃ¢Ì£p email hoÌ£c viÃªn");
                    let dOB = prompt("NhÃ¢Ì£p ngaÌ€y sinh hoÌ£c viÃªn");
                    let arr = dOB.split("/");
                    for (let j = 0; j < arr.length; j++) {
                        while (arr.length === 1 || arr[0] > 31 || arr[0] <= 0 || arr[1] > 12 || arr[arr.length - 1] > 2025
                        || arr[0].length < 2 || arr[1].length < 2 || arr[arr.length - 1].length < 4) {
                            alert("NgaÌ€y sinh khÃ´ng Ä‘uÌng Ä‘iÌ£nh daÌ£ng dd/mm/yyyy ( ngÃ y / thÃ¡ng / nÄƒm )");
                            dOB = prompt("NhÃ¢Ì£p ngaÌ€y sinh hoÌ£c viÃªn");
                            arr = dOB.split("/");
                        }
                    }
                    listStudent.splice(i, 1, new Student(iD, name, cl, email, dOB));
                    flag = true;
                    break;
                } else {
                    //TrÆ°Æ¡Ì€ng hÆ¡Ì£p maÌƒ hoÌ£c viÃªn khÃ´ng tÃ´Ì€n taÌ£i
                    flag = false;
                }

            }
            if (!flag) {
                alert("MaÌƒ hoÌ£c viÃªn khÃ´ng tÃ´Ì€n taÌ£i");
            }
            this.display();
        }

        del() {
            let flag = true;
            let iDToDelete = prompt("NhÃ¢Ì£p maÌƒ hoÌ£c viÃªn cÃ¢Ì€n xoÌa");
            for (let i = 0; i < listStudent.length; i++) {
                if (listStudent[i].getId() === (iDToDelete)) {
                    if (confirm("BaÌ£n coÌ chÄƒÌc muÃ´Ìn xoÌa khÃ´ng?")) {
                        listStudent.splice(i, 1);
                        i--;
                        break;
                    }
                } else {
                    flag = !flag;
                }
            }
            if (!flag) {
                alert("MaÌƒ hoÌ£c viÃªn khÃ´ng tÃ´Ì€n taÌ£i");
            }
            this.display();
        }
    }

    let manageStudent = new ManageStudent();
    manageStudent.display();
</script>
</body>
</html>